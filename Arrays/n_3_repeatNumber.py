
class EleCount:
    def __init__(self):
        self.e = 0
        self.c = 0

class Solution:
    # @param A : tuple of integers
    # @return an integer
    def repeatedNumber(self, A):
        n = len(A)
        if n == 0:
            return -1
        if n < 3:
            return A[0]
        occ = n/3
        nums = [EleCount(),EleCount()]
        for item in A:
            if nums[0].e == item or nums[1].e == item: # if item already present
                if nums[0].e == item:
                    nums[0].c += 1
                else:
                    nums[1].c += 1
            else:
                if nums[0].c == 0 or nums[1].c == 0: # if a position is available
                    if nums[0].c == 0:
                        nums[0].e = item
                        nums[0].c = 1
                    else:
                        nums[1].e = item
                        nums[1].c = 1
                else:
                    nums[0].c -= 1
                    nums[1].c -= 1

        for i in range(2):
            count = 0
            for item in A:
                if nums[i].e == item:
                    count += 1
            if count > occ:
                return nums[i].e
        return -1

    def repeatedNumber1(self, A):
        n = len(A)
        x = [A[i] for i in range(n)]
        x.sort()
        occ = n/3
        if n < 3:
            return -1
        if n == 3:
            return A[0]
        for i in range(n):
            count = 1
            while i <= (n-2) and x[i] == x[i+1]:
                count += 1
                if count > occ:
                    return x[i]
                i+=1
        return -1

a = [ 1, 1, 1, 2, 3, 5, 7 ]
b = [ 1000355, 1000871, 1000921, 1000856, 1000975, 1000708, 1000975, 1000270, 1000049, 1000975, 1000975, 1000355, 1000975, 1000975, 1000459, 1000532, 1000975, 1000251, 1000769 ]
c = [1, 2, 3, 1, 1]
d = [ 1000720, 1000837, 1000720, 1000497, 1000846, 1000720, 1000733, 1000245, 1000875, 1000950, 1000720, 1000918, 1000403, 1000805, 1000720, 1000186, 1000335, 1000711, 1000835, 1000720, 1000720, 1000720, 1000720, 1000757, 1000549, 1000720, 1000887, 1000720, 1000539, 1000136, 1000441, 1000162, 1000096, 1000597, 1000720, 1000950, 1000720, 1000523, 1000081, 1000204, 1000479, 1000720, 1000996, 1000720, 1000720, 1000720, 1000016, 1000720, 1000761, 1000304, 1000720, 1000720, 1000687, 1000612, 1000467, 1000433, 1000720, 1000056, 1000292, 1000432, 1000720, 1000720, 1000753, 1000472, 1000720, 1000720, 1000319, 1000177, 1000720, 1000763, 1000974, 1000720, 1000290, 1000899, 1000720, 1000365, 1000720, 1000444, 1000720, 1000734, 1000720, 1000936, 1000930, 1000659, 1000720, 1000740, 1000720, 1000867, 1000720, 1000720, 1000178, 1000747, 1000790, 1000185, 1000570, 1000140, 1000226, 1000872, 1000720, 1000942, 1000173, 1000658, 1000438, 1000720, 1000105, 1000627, 1000964, 1000415, 1000720, 1000546, 1000567, 1000720, 1000355, 1000720, 1000734, 1000783, 1000572, 1000867, 1000290, 1000285, 1000720, 1000927, 1000720, 1000948, 1000720, 1000489, 1000095, 1000622, 1000838, 1000720, 1000314, 1000720, 1000726, 1000621, 1000411, 1000698, 1000027, 1000158, 1000622, 1000720, 1000294, 1000909, 1000720, 1000859, 1000096, 1000720, 1000976, 1000271, 1000103, 1000995, 1000720, 1000720, 1000651, 1000587, 1000460, 1000611, 1000720, 1000103, 1000720, 1000827, 1000720, 1000720, 1000720, 1000935, 1000218, 1000720, 1000217, 1000797, 1000720, 1000720, 1000257, 1000720, 1000247, 1000443, 1000248, 1000720, 1000720, 1000720, 1000510, 1000418, 1000720, 1000926, 1000632, 1000456, 1000720, 1000254, 1000336, 1000130, 1000202, 1000720, 1000720, 1000691, 1000166, 1000933, 1000346, 1000992, 1000221, 1000088, 1000514, 1000650, 1000406, 1000154, 1000720, 1000449, 1000880, 1000007, 1000591, 1000720, 1000875, 1000720, 1000474, 1000720, 1000720, 1000817, 1000316, 1000720, 1000005, 1000007, 1000939, 1000227, 1000761, 1000619, 1000461, 1000629, 1000859, 1000720, 1000565, 1000256, 1000720, 1000105, 1000720, 1000945, 1000720, 1000903, 1000871, 1000378, 1000947, 1000121, 1000720, 1000040, 1000684, 1000649, 1000720, 1000276, 1000667, 1000720, 1000945, 1000720, 1000720, 1000437, 1000473, 1000463, 1000720, 1000938, 1000174, 1000631, 1000720, 1000357, 1000720, 1000720, 1000720, 1000720, 1000993, 1000535, 1000509, 1000376, 1000199, 1000389, 1000405, 1000677, 1000138, 1000720, 1000874, 1000720, 1000186, 1000720, 1000884, 1000817, 1000301, 1000112, 1000720, 1000088, 1000369, 1000720, 1000720, 1000373, 1000720, 1000709, 1000720, 1000884, 1000720, 1000048, 1000720, 1000690, 1000720, 1000720, 1000720, 1000327, 1000444, 1000931, 1000783, 1000720, 1000592, 1000502, 1000038, 1000664, 1000720, 1000877, 1000847, 1000441, 1000939, 1000941, 1000720, 1000548, 1000720, 1000720, 1000904, 1000720, 1000342, 1000299, 1000622, 1000302, 1000311, 1000720, 1000159, 1000027, 1000720, 1000720, 1000089, 1000720, 1000062, 1000720, 1000193, 1000749, 1000720, 1000086, 1000720, 1000462, 1000765, 1000720, 1000769, 1000751, 1000679, 1000720, 1000920, 1000377, 1000720, 1000574, 1000450, 1000290, 1000419, 1000720, 1000853, 1000720, 1000242, 1000167, 1000720, 1000482, 1000914, 1000720, 1000607, 1000720, 1000206, 1000720, 1000001, 1000863, 1000879, 1000514, 1000205, 1000086, 1000720, 1000720, 1000180, 1000720, 1000741, 1000720, 1000720, 1000657, 1000720, 1000720, 1000917, 1000997, 1000720, 1000720, 1000968, 1000720, 1000522, 1000113, 1000840, 1000027, 1000720, 1000720, 1000344, 1000720, 1000816, 1000720, 1000322, 1000764, 1000696, 1000387, 1000720, 1000386, 1000301, 1000720, 1000271, 1000129, 1000378, 1000720, 1000792, 1000528, 1000312, 1000994, 1000607, 1000995, 1000366, 1000167, 1000720, 1000475, 1000734, 1000202, 1000936, 1000200, 1000835, 1000342, 1000006, 1000169, 1000469, 1000782, 1000346, 1000222, 1000710, 1000720, 1000720, 1000221, 1000720, 1000825, 1000229, 1000051, 1000434, 1000720, 1000144, 1000340, 1000720, 1000227, 1000720, 1000720, 1000720, 1000916, 1000720, 1000720, 1000833, 1000720, 1000422, 1000720, 1000720, 1000720, 1000902, 1000720, 1000302, 1000720, 1000564, 1000353, 1000457, 1000276, 1000720, 1000720, 1000720, 1000720, 1000327, 1000720, 1000809, 1000307, 1000720, 1000720, 1000779, 1000048, 1000430, 1000720, 1000718, 1000476, 1000720, 1000072, 1000546, 1000720, 1000206, 1000333, 1000971, 1000438, 1000250, 1000601, 1000437, 1000720, 1000534, 1000720, 1000720, 1000720, 1000711, 1000720, 1000584, 1000153, 1000430, 1000720, 1000847, 1000588, 1000720, 1000822, 1000868, 1000626, 1000720, 1000133, 1000720, 1000706, 1000060, 1000495, 1000720, 1000216, 1000720, 1000060, 1000988, 1000913, 1000466, 1000989, 1000694, 1000720, 1000184, 1000720, 1000702, 1000434, 1000720, 1000844, 1000527, 1000720, 1000690, 1000720, 1000720, 1000155, 1000447, 1000076, 1000720, 1000720, 1000720, 1000081, 1000512, 1000328, 1000720, 1000658, 1000720, 1000549, 1000849, 1000488, 1000403, 1000454, 1000041, 1000668, 1000720, 1000720, 1000318, 1000139, 1000412, 1000220, 1000415, 1000117, 1000720, 1000720, 1000720, 1000318, 1000854, 1000980, 1000642, 1000107, 1000363, 1000720, 1000783, 1000261, 1000720, 1000633, 1000539, 1000908, 1000720, 1000926, 1000952, 1000177, 1000720, 1000117, 1000541, 1000221, 1000241, 1000720, 1000865, 1000678, 1000720, 1000720, 1000720, 1000536, 1000720, 1000720, 1000582, 1000538, 1000720, 1000083, 1000239, 1000937, 1000755, 1000720, 1000720, 1000679, 1000291, 1000720, 1000404, 1000092, 1000601, 1000012, 1000471, 1000720, 1000898, 1000720, 1000720, 1000382, 1000612, 1000720, 1000644, 1000548, 1000587, 1000720, 1000445, 1000211, 1000720, 1000093, 1000735, 1000779, 1000905, 1000841, 1000313, 1000928, 1000275, 1000270, 1000058, 1000720, 1000317, 1000200, 1000720, 1000720, 1000140, 1000376, 1000720, 1000720, 1000798, 1000720, 1000487, 1000720, 1000751, 1000682, 1000720, 1000381, 1000715, 1000246, 1000720, 1000624, 1000720, 1000379, 1000455, 1000818, 1000810, 1000720, 1000775, 1000351, 1000341, 1000720, 1000720, 1000883, 1000930, 1000250, 1000301, 1000123, 1000720, 1000627, 1000289, 1000849, 1000720, 1000315, 1000711, 1000346, 1000720, 1000191, 1000720, 1000914, 1000593, 1000960, 1000720, 1000720, 1000696, 1000720, 1000875, 1000011, 1000426, 1000720, 1000720, 1000720, 1000367, 1000720, 1000720, 1000018, 1000428, 1000287, 1000720, 1000219, 1000885, 1000720, 1000720, 1000983, 1000813, 1000955, 1000383, 1000709, 1000720, 1000960, 1000192, 1000282, 1000720, 1000619, 1000102, 1000246, 1000882, 1000452, 1000720, 1000720, 1000720, 1000613, 1000814, 1000720, 1000854, 1000465, 1000079, 1000921, 1000604, 1000683, 1000815, 1000113, 1000039, 1000572, 1000243, 1000008, 1000720, 1000940, 1000842, 1000556, 1000720, 1000720, 1000644, 1000363, 1000361, 1000720, 1000720, 1000688, 1000531, 1000799, 1000360, 1000159, 1000513, 1000006, 1000133, 1000764, 1000720, 1000350, 1000885, 1000720, 1000508, 1000720, 1000720, 1000720, 1000720, 1000720, 1000720, 1000720, 1000505, 1000126, 1000684, 1000661, 1000692, 1000627, 1000233, 1000069, 1000720, 1000720, 1000987, 1000574, 1000720, 1000371, 1000062, 1000720, 1000777, 1000769, 1000368, 1000531, 1000657, 1000324, 1000409, 1000720, 1000480, 1000995, 1000720, 1000595, 1000720, 1000245, 1000856, 1000700, 1000720, 1000807, 1000720, 1000720, 1000769, 1000815, 1000647, 1000210, 1000720, 1000720, 1000305, 1000944 ]
obj = Solution()
print obj.repeatedNumber(d)
